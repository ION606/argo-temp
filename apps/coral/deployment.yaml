apiVersion: apps/v1
kind: Deployment
metadata:
    name: coral
    namespace: argocd
spec:
    replicas: 2
    selector: { matchLabels: { app: coral } }
    template:
        metadata:
            labels: { app: coral }
        spec:
            containers:
                - name: app
                  image: blahaj-bun:dev
                  imagePullPolicy: IfNotPresent
                  ports: [{ containerPort: 8080, name: http }]
                  env:
                      - { name: SERVICE_NAME, value: "coral" }
                      - { name: SERVICE_EMOJI, value: "ðŸª¸" }
                      - { name: FRIEND_NAME, value: "kelp" }
---
apiVersion: v1
kind: Service
metadata:
    name: coral
    namespace: argocd
spec:
    selector: { app: coral }
    ports: [{ name: http, port: 80, targetPort: 8080 }]
